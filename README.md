# DMG Burner - Gravador de Imagens IMG/DMG para USB

<p align="center">
  <img src="dmg-burner-icon.icns" alt="DMG Burner Icon" width="128" height="128">
</p>

Um aplicativo macOS simples e poderoso para gravar imagens IMG/DMG em pendrives USB, com interface via Terminal.

## üìã √çndice

- [Caracter√≠sticas](#-caracter√≠sticas)
- [Requisitos do Sistema](#-requisitos-do-sistema)
- [Instala√ß√£o](#-instala√ß√£o)
- [Como Usar](#-como-usar)
- [Funcionalidades](#-funcionalidades)
- [Construir o App](#-construir-o-app)
- [Resolu√ß√£o de Problemas](#-resolu√ß√£o-de-problemas)
- [Avisos Importantes](#-avisos-importantes)
- [Licen√ßa](#-licen√ßa)

## ‚ú® Caracter√≠sticas

- üî• Grava√ß√£o direta de imagens IMG/DMG em pendrives USB
- üîÑ Convers√£o de DMG para IMG (compat√≠vel com Balena Etcher)
- üìÅ Suporte a Drag & Drop de arquivos
- üìä Barra de progresso em tempo real durante a grava√ß√£o
- üîç Detec√ß√£o autom√°tica de dispositivos USB
- üõ°Ô∏è Confirma√ß√£o de seguran√ßa antes de opera√ß√µes destrutivas
- üíª Interface amig√°vel via Terminal
- üé® √çcone personalizado e integra√ß√£o nativa com macOS

## üíª Requisitos do Sistema

### Sistema Operacional
- **macOS 10.13 (High Sierra) ou superior**
- Recomendado: macOS 10.15 (Catalina) ou superior

### Python 3

O aplicativo requer **Python 3** instalado no sistema. O macOS 10.15+ j√° vem com Python 3 pr√©-instalado.

#### Verificar se o Python 3 est√° instalado:

```bash
python3 --version
```

Se voc√™ vir algo como `Python 3.x.x`, est√° pronto para usar!

#### Se o Python 3 n√£o estiver instalado:

##### Op√ß√£o 1: Anaconda Python (Recomendado)

1. **Baixar o Anaconda** - Escolha conforme seu Mac:

   **Para Mac com Apple Silicon (M1/M2/M3/M4):**
   ```bash
   curl -O https://repo.anaconda.com/archive/Anaconda3-2024.10-1-MacOSX-arm64.pkg
   open Anaconda3-2024.10-1-MacOSX-arm64.pkg
   ```
   Ou baixe direto: [Anaconda ARM64](https://repo.anaconda.com/archive/Anaconda3-2024.10-1-MacOSX-arm64.pkg)

   **Para Mac com Intel:**
   ```bash
   curl -O https://repo.anaconda.com/archive/Anaconda3-2024.10-1-MacOSX-x86_64.pkg
   open Anaconda3-2024.10-1-MacOSX-x86_64.pkg
   ```
   Ou baixe direto: [Anaconda Intel](https://repo.anaconda.com/archive/Anaconda3-2024.10-1-MacOSX-x86_64.pkg)

   **N√£o sabe qual Mac tem?** Execute no Terminal:
   ```bash
   uname -m
   # arm64 = Apple Silicon (M1/M2/M3/M4)
   # x86_64 = Intel
   ```

2. **Instalar o Anaconda**:
   - Execute o instalador baixado (.pkg)
   - Siga as instru√ß√µes do instalador
   - Aceite os termos e escolha o local de instala√ß√£o

3. **Configurar o Terminal** (ap√≥s instala√ß√£o):
   ```bash
   source ~/anaconda3/bin/activate
   conda init zsh
   ```

4. **Verificar a instala√ß√£o**:
   ```bash
   python3 --version
   ```

5. **Vantagens do Anaconda**:
   - ‚úÖ Inclui Python 3 + centenas de pacotes cient√≠ficos
   - ‚úÖ Gerenciador de ambientes virtuais (conda)
   - ‚úÖ Jupyter Notebook inclu√≠do
   - ‚úÖ F√°cil atualiza√ß√£o: `conda update python`
   - ‚úÖ Otimizado para Apple Silicon (ARM64)

##### Op√ß√£o 2: Download do Site Oficial Python

1. Acesse: [https://www.python.org/downloads/](https://www.python.org/downloads/)
2. Baixe o instalador mais recente do Python 3 para macOS
3. Execute o instalador (.pkg) e siga as instru√ß√µes
4. Reinicie o Terminal e verifique: `python3 --version`

##### Op√ß√£o 3: Via Command Line Tools do Xcode

```bash
xcode-select --install
```

Isso instalar√° as ferramentas de linha de comando incluindo o Python 3.

## üì• Instala√ß√£o

### M√©todo 1: Instala√ß√£o R√°pida (Uma Linha)

Execute este comando no Terminal para instalar automaticamente:

```bash
curl -fsSL https://raw.githubusercontent.com/maxpicelli/DMG-IMG-Burner/main/install.sh | bash
```

Este comando ir√°:
- ‚úÖ Baixar o reposit√≥rio completo do GitHub
- ‚úÖ Criar o aplicativo `DMG Burner.app`
- ‚úÖ Mover para o Desktop
- ‚úÖ Abrir o aplicativo automaticamente

### M√©todo 2: Clone Manual do Reposit√≥rio

1. **Clone este reposit√≥rio**:
```bash
git clone https://github.com/maxpicelli/DMG-IMG-Burner.git
cd DMG-IMG-Burner
```

2. **Construir o aplicativo**:
```bash
chmod +x make-app.sh
./make-app.sh
```

3. **Mover para a pasta de Aplicativos** (opcional):
```bash
mv "DMG Burner.app" /Applications/
```

### M√©todo 3: Download Direto

Baixe o ZIP do reposit√≥rio e construa:
```bash
curl -L https://github.com/maxpicelli/DMG-IMG-Burner/archive/refs/heads/main.zip -o DMG-IMG-Burner.zip
unzip DMG-IMG-Burner.zip
cd DMG-IMG-Burner-main
chmod +x make-app.sh
./make-app.sh
```

### Primeira Execu√ß√£o

Na primeira vez que executar o app, o macOS pode bloquear por quest√µes de seguran√ßa (Gatekeeper):

1. **Clique com bot√£o direito** no `DMG Burner.app`
2. Selecione **"Abrir"**
3. Clique em **"Abrir"** na janela de confirma√ß√£o

Ap√≥s a primeira execu√ß√£o, voc√™ pode abrir normalmente com duplo-clique.

## üöÄ Como Usar

### Iniciar o Aplicativo

Duplo-clique em **DMG Burner.app**. O aplicativo abrir√° uma janela do Terminal.

### Menu Principal

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë    IMG/DMG to USB Burner - macOS Terminal Version        ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

Op√ß√µes:
1. Selecionar imagem IMG/DMG
2. Listar dispositivos USB
3. Gravar imagem no pendrive
4. Converter DMG para IMG (USB compat√≠vel)
5. Ajuda
0. Sair
```

### Passo a Passo para Gravar um Pendrive

#### 1Ô∏è‚É£ Selecionar a Imagem

- Escolha a op√ß√£o **1** no menu
- Voc√™ pode:
  - **Arrastar e soltar** o arquivo no Terminal
  - **Digitar o caminho** completo
  - **Procurar** em Downloads, Desktop ou pasta atual

#### 2Ô∏è‚É£ Verificar Dispositivos USB

- Escolha a op√ß√£o **2** para listar dispositivos detectados
- Anote o identificador do seu pendrive (ex: `/dev/disk3`)

#### 3Ô∏è‚É£ Gravar a Imagem

- Escolha a op√ß√£o **3**
- Selecione o dispositivo USB da lista
- **‚ö†Ô∏è ATEN√á√ÉO**: Confirme que selecionou o dispositivo correto!
- Digite sua senha de administrador
- Aguarde a conclus√£o da grava√ß√£o

#### 4Ô∏è‚É£ Ejetar com Seguran√ßa

Ap√≥s a grava√ß√£o, ejete o pendrive pelo Finder antes de remov√™-lo fisicamente.

## üõ† Funcionalidades

### 1. Sele√ß√£o de Imagem IMG/DMG

M√∫ltiplas op√ß√µes para selecionar sua imagem:
- üìé Drag & Drop (arraste e solte)
- ‚å®Ô∏è Digita√ß√£o manual do caminho
- üîç Busca em pastas comuns (Downloads, Desktop, atual)

### 2. Listagem de Dispositivos USB

- Detecta automaticamente todos os dispositivos USB conectados
- Mostra informa√ß√µes detalhadas:
  - Nome do dispositivo
  - Identificador (/dev/diskX)
  - Tamanho
  - Status de montagem

### 3. Grava√ß√£o de Imagem

- Usa o comando `dd` do sistema para grava√ß√£o confi√°vel
- Barra de progresso em tempo real
- Estat√≠sticas de velocidade e tempo estimado
- Confirma√ß√£o de seguran√ßa obrigat√≥ria
- Requer senha de administrador

### 4. Convers√£o DMG para IMG

Converte arquivos DMG para formato IMG compat√≠vel com ferramentas como Balena Etcher:

- **M√©todo 1 (UDTO)**: Convers√£o RAW r√°pida
- **M√©todo 2 (UDRW)**: Formato Read/Write
- **M√©todo 3 (2 passos)**: M√°xima compatibilidade

Suporta at√© mesmo arrastar o instalador `.app` do macOS!

## üî® Construir o App

Para recriar o aplicativo bundle a partir do c√≥digo fonte:

```bash
./make-app.sh
```

O script ir√°:
1. ‚úÖ Validar arquivos necess√°rios
2. üóëÔ∏è Limpar bundle existente (se houver)
3. üìÅ Criar estrutura do bundle
4. üìÑ Copiar script Python
5. üöÄ Criar launcher script
6. üé® Copiar √≠cone
7. ‚öôÔ∏è Gerar Info.plist

### Estrutura do Bundle

```
DMG Burner.app/
‚îú‚îÄ‚îÄ Contents/
    ‚îú‚îÄ‚îÄ Info.plist
    ‚îú‚îÄ‚îÄ MacOS/
    ‚îÇ   ‚îú‚îÄ‚îÄ DMG Burner (launcher)
    ‚îÇ   ‚îî‚îÄ‚îÄ DMG-terminal.py (script principal)
    ‚îî‚îÄ‚îÄ Resources/
        ‚îî‚îÄ‚îÄ dmg-burner-icon.icns
```

## üîß Resolu√ß√£o de Problemas

### Erro: "Python 3 is required but not installed"

**Solu√ß√£o**: Instale o Python 3 seguindo as instru√ß√µes em [Requisitos do Sistema](#-requisitos-do-sistema).

### Erro: "Permission denied"

**Solu√ß√£o**: Certifique-se de que o script tem permiss√£o de execu√ß√£o:
```bash
chmod +x "DMG Burner.app/Contents/MacOS/DMG Burner"
chmod +x DMG-terminal.py
```

### O app n√£o abre ou n√£o aparece o √≠cone

**Solu√ß√£o 1**: Reinicie o Finder
```bash
killall Finder
```

**Solu√ß√£o 2**: Limpe o cache de √≠cones
```bash
rm -rf /Library/Caches/com.apple.iconservices.store
sudo find /private/var/folders/ -name com.apple.iconservices -exec rm -rf {} \;
killall Finder
```

### Erro: "Operation not permitted" durante a grava√ß√£o

**Solu√ß√£o**: O Terminal precisa de permiss√µes de disco completo:
1. V√° em **Prefer√™ncias do Sistema** > **Seguran√ßa e Privacidade**
2. Aba **Privacidade** > **Acesso Total ao Disco**
3. Adicione o **Terminal.app**

### Nenhum dispositivo USB encontrado

**Verifica√ß√µes**:
- ‚úÖ Pendrive est√° conectado?
- ‚úÖ Pendrive est√° funcionando em outro computador?
- ‚úÖ Tente reconectar o dispositivo
- ‚úÖ Verifique com: `diskutil list`

### Grava√ß√£o muito lenta

**Dicas**:
- Use portas USB 3.0 (azuis) quando poss√≠vel
- Evite usar hubs USB
- Certifique-se de que o pendrive suporta altas velocidades
- Velocidades t√≠picas: 10-25 MB/s (USB 2.0), 40-100 MB/s (USB 3.0)

### Arquivo DMG n√£o compat√≠vel

**Solu√ß√£o**: Use a op√ß√£o **4** do menu para converter o DMG para IMG:
- Escolha o m√©todo de convers√£o adequado
- Depois use o arquivo `.img` gerado para gravar

## ‚ö†Ô∏è Avisos Importantes

### üö® OPERA√á√ÉO DESTRUTIVA

> **ATEN√á√ÉO**: Gravar uma imagem em um dispositivo USB ir√° **APAGAR COMPLETAMENTE** todo o conte√∫do existente no dispositivo. Esta opera√ß√£o √© **IRREVERS√çVEL**.

### ‚úÖ Antes de Gravar:

1. ‚úÖ **Certifique-se** de ter selecionado o dispositivo correto
2. ‚úÖ **Fa√ßa backup** de dados importantes do pendrive
3. ‚úÖ **Verifique** se a imagem est√° √≠ntegra e n√£o corrompida
4. ‚úÖ **Confirme** que o pendrive tem capacidade suficiente

### üîê Permiss√µes de Administrador

Este aplicativo requer senha de administrador porque:
- Acessa dispositivos de armazenamento em baixo n√≠vel
- Desmonta volumes do sistema
- Executa comandos privilegiados (`sudo dd`)

### üîå Ap√≥s a Grava√ß√£o

1. **Aguarde** a mensagem de conclus√£o
2. **Ejete** o dispositivo pelo Finder
3. **Aguarde** a luz do pendrive parar de piscar
4. **Remova** o dispositivo com seguran√ßa

## üìù Casos de Uso

### Criar Pendrive Boot√°vel do macOS

1. Baixe o instalador do macOS da App Store
2. Use a op√ß√£o 4 para converter o DMG interno do instalador
3. Grave o IMG resultante em um pendrive de 16GB+ (USB 3.0 recomendado)
4. Use para instala√ß√£o limpa ou recupera√ß√£o

### Criar Pendrive Linux Boot√°vel

1. Baixe a imagem ISO/IMG da sua distribui√ß√£o Linux
2. Use a op√ß√£o 1 para selecionar a imagem
3. Grave em um pendrive de 4GB+
4. Boot pelo pendrive para testar ou instalar Linux

### Backup de Sistema

1. Crie uma imagem do seu sistema com Disk Utility
2. Converta para IMG se necess√°rio (op√ß√£o 4)
3. Grave em pendrive de emerg√™ncia

## üß™ Desenvolvido e Testado

- ‚úÖ macOS 10.15 Catalina
- ‚úÖ macOS 11 Big Sur
- ‚úÖ macOS 12 Monterey
- ‚úÖ macOS 13 Ventura
- ‚úÖ macOS 14 Sonoma
- ‚úÖ macOS 15 Sequoia

## üõ† Tecnologias

- **Python 3** - Linguagem principal
- **Bash** - Scripts de build e launcher
- **diskutil** - Gerenciamento de discos macOS
- **dd** - Grava√ß√£o de imagens em baixo n√≠vel
- **hdiutil** - Convers√£o de formatos DMG/IMG

## üìÑ Licen√ßa

Copyright ¬© 2025 M4Pro. Todos os direitos reservados.

Este projeto √© fornecido "como est√°", sem garantias de qualquer tipo.

---

## ü§ù Contribui√ß√µes

Contribui√ß√µes, issues e feature requests s√£o bem-vindos!

## üìß Suporte

Se voc√™ tiver problemas ou d√∫vidas:
1. Verifique a se√ß√£o [Resolu√ß√£o de Problemas](#-resolu√ß√£o-de-problemas)
2. Consulte a op√ß√£o **5 (Ajuda)** no menu do aplicativo
3. Abra uma issue no GitHub

---

<p align="center">
  Feito com ‚ù§Ô∏è para a comunidade macOS
</p>

<p align="center">
  ‚≠ê Se este projeto foi √∫til, considere dar uma estrela no GitHub!
</p>

